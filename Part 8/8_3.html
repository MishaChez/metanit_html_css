<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>8_3</title>
    <link rel="stylesheet" href="8_3.css">
    <style>
        @keyframes backgroundColorAnimation {
            from {
                background-color: red;
            }
            to {
                background-color: blue;
            }
        }
        @keyframes backgroundColorAnimation1 {
            from {
                background-color: red;
            }
            25%{
                background-color: yellow;
            }
            50%{
                background-color: green;
            }
            75%{
                background-color: blue;
            }
            to {
                background-color: violet;
            }
        }
        @keyframes backgroundColorAnimation2 {
            from {
                background-color: red;
                opacity: 0.2;
            }
            to {
                background-color: blue;
                opacity: 0.9;
            }
        }
        @keyframes backgroundColorAnimation3 {
            from {
                background-color: red;
            }
            to {
                background-color: blue;
            }
        }
        @keyframes opacityAnimation {
            from {
                opacity: 0.2;
            }
            to {
                opacity: 0.9;
            }
        }
        div.block1{
            width: 100px;
            height: 100px;
            margin: 40px 30px;
            border: 1px solid #333;

            background-color: #ccc;
            animation-name: backgroundColorAnimation;
            animation-duration: 2s;
        }
        div.block2{
            width: 100px;
            height: 100px;
            margin: 40px 30px;
            border: 1px solid #333;
            background-color: #ccc;
        }
        div.block2:hover {
            animation-name: backgroundColorAnimation;
            animation-duration: 2s;
        }
        div.block3{
            width: 100px;
            height: 100px;
            margin: 40px 30px;
            border: 1px solid #333;
            background-color: #ccc;
        }
        div.block3:hover {
            animation-name: backgroundColorAnimation1;
            animation-duration: 6s;
        }
        div.block4{
            width: 100px;
            height: 100px;
            margin: 40px 30px;
            border: 1px solid #333;
            background-color: #ccc;
        }
        div.block4:hover {
            animation-name: backgroundColorAnimation2;
            animation-duration: 6s;
        }
        div.block5{
            width: 100px;
            height: 100px;
            margin: 40px 30px;
            border: 1px solid #333;
            background-color: #ccc;
        }
        div.block5:hover {
            animation-name: backgroundColorAnimation3, opacityAnimation;
            animation-duration: 2s, 3s;
        }
        div.block6{
            width: 100px;
            height: 100px;
            margin: 40px 30px;
            border: 1px solid #333;
            background-color: #ccc;
        }
        div.block6:hover {
            animation-name: backgroundColorAnimation3, opacityAnimation;
            animation-duration: 2s, 3s;
            animation-iteration-count: 3;
        }
        div.block7{
            width: 100px;
            height: 100px;
            margin: 40px 30px;
            border: 1px solid #333;
            background-color: #ccc;
        }
        div.block7:hover {
            animation-name: backgroundColorAnimation3, opacityAnimation;
            animation-duration: 2s, 3s;
            animation-iteration-count: infinite;
        }
        div.block8{
            width: 100px;
            height: 100px;
            margin: 40px 30px;
            border: 1px solid #333;
            background-color: #ccc;
        }
        div.block8:hover {
            animation-name: backgroundColorAnimation3, opacityAnimation;
            animation-duration: 2s, 3s;
            animation-iteration-count: 3;
            animation-direction: alternate;
        }
        div.block9{
            width: 100px;
            height: 100px;
            margin: 40px 30px;
            border: 1px solid #333;
            background-color: #ccc;
        }
        div.block9:hover {
            animation-name: backgroundColorAnimation3, opacityAnimation;
            animation-duration: 2s, 3s;
            animation-iteration-count: 3;
            animation-direction: alternate;
            animation-fill-mode: forwards;
        }
        div.block10{
            width: 100px;
            height: 100px;
            margin: 40px 30px;
            border: 1px solid #333;
            background-color: #ccc;
        }
        div.block10:hover {
            animation-name: backgroundColorAnimation2;
            animation-duration: 6s;
            animation-delay: 1s;
        }
        div.block11{
            width: 100px;
            height: 100px;
            margin: 40px 30px;
            border: 1px solid #333;
            background-color: #ccc;
        }
        div.block11:hover {
            animation-name: backgroundColorAnimation2;
            animation-duration: 3s;
            animation-timing-function: ease-in-out;
        }

        @keyframes text1 {
            10%{opacity: 1;}
            40%{opacity: 0;}
        }
        @keyframes text2 {
            30%{opacity: 0;}
            60%{opacity: 1;}
        }
        @keyframes banner {
            10%{background-color: #008978;}
            40%{background-color: #34495e;}
            80%{background-color: green;}
        }
        .banner {
            width: 600px;
            height: 120px;
            background-color: #777;
            margin: 0 auto;
            position: relative;
        }
        .text1,.text2
        {
            position: absolute;
            width: 100%;
            height: 100%;
            line-height: 120px;
            text-align: center;
            font-size: 40px;
            color: #fff;
            opacity: 0;
        }
        .text1
        {
            animation: text1 6s infinite;
        }
        .text2
        {
            animation: text2 6s infinite;
        }
        .animated
        {
            opacity: 0.8;
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #34495e;
            animation: banner 6s infinite;
        }
    </style>
</head>
<body>
<div id="header"><h1>Анимация</h1></div>
<div id="wrapper">
    <div id="menu">
        <ul class="nav">
            <li><a href="#zakl1">Анимация</a></li>
            <li><a href="#zakl2">Множество ключевых кадров</a></li>
            <li><a href="#zakl3">Завершение анимации</a></li>
            <li><a href="#zakl4">Задержка анимации</a></li>
            <li><a href="#zakl5">Функция плавности анимации</a></li>
            <li><a href="#zakl6">Свойство animation</a></li>
            <li><a href="#zakl7">Создание баннера с анимацией</a></li>
        </ul>
    </div>
    <div id="main">
        <p><span id="zakl1"></span>Анимация предоставляет большие возможности за изменением стиля элемента. При переходе у нас есть набор свойств с начальными значениями, которые имеет элемент до начала перехода, и конечными значениями, которые устанавливают после завершения перехода. Тогда как при анимации мы можем иметь не только два набора значений - начальные и конечные, но и множество промежуточных наборов значений.</p>
        <p>Анимация опирается на последовательню смену ключевых кадров (keyframes). Каждый ключевой кадр определяет один набор значений для анимируемых свойств. И последовательная смена таких ключевых кадров фактически будет представлять анимацию.</p>
        <p>По сути переходы применяют ту же модель - так же неявно определяются два ключевых кадра - начальный и конечный, а сам переход представляет переход от начального к конечному ключевому кадру. Единственное отличие анимации в данном случае состоит в том, что для анимации можно определить множество промежуточных ключевых кадров.</p>
        <p>В целом объявление ключевого кадра в CSS3 имеет следующую форму:</p>
        <div class="codeblock">
            <pre>
@keyframes название_анимации {
    from {
        /* начальные значения свойств CSS */
    }
    to {
        /* конечные значения свойств CSS */
    }
}
            </pre>
        </div>
        <p>После ключевого слова <b>@keyframes</b> идет имя анимации. Затем в фигурных скобках определяются как минимум два ключевых кадра. Блок после ключевого слова <b>from</b> объявляется начальный ключевой кадр, а после клюевого слова <b>to</b> в блоке определяется конечный ключевой кадр. Внутри каждого ключевого кадра определяется одно или несколько свойств CSS, подобно тому, как создается обычный стиль.</p>
        <p>Например, определим анимацю для фонового цвета элемента:</p>
        <div class="codeblock">
            <pre>
&lt;!DOCTYPE html>
&lt;html>
    &lt;head>
        &lt;meta charset="utf-8">
        &lt;title>Анимация в CSS3&lt;/title>
        &lt;style>
            @keyframes backgroundColorAnimation {
                from {
                    background-color: red;
                }
                to {
                    background-color: blue;
                }
            }
            div{
                width: 100px;
                height: 100px;
                margin: 40px 30px;
                border: 1px solid #333;

                background-color: #ccc;
                animation-name: backgroundColorAnimation;
                animation-duration: 2s;
            }
        &lt;/style>
    &lt;/head>
    &lt;body>
        &lt;div>&lt;/div>
    &lt;/body>
&lt;/html>
            </pre>
        </div>
        <div class="block1"></div>
        <p>В данном случае анимация называется backgroundColorAnimation. Анимация может иметь произвольное название.</p>
        <p>Эта анимация предоставляет переход от красного цвета фона к синему. Причем после завершения анимации будет устанавливться тот цвет, который определен у элемента div.</p>
        <p>Чтобы прикрепить анимацию к элементу, у него в стиле применяется свойство <b>animation-name</b>. Значение этого свойства - название применяемой анимации.</p>
        <p>Также с помощью свойства <b>animation-duration</b> необходимо задать время анимации в секундах или миллисекундах. В данном случае время анимации - это 2 секунды.</p>
        <p>При подобном определении анимация будет запускаться сразу после загрузки страницы. Однако можно также запускать анимацию по действию пользователя. Например, с помощью определения стиля для псевдокласса <i>:hover</i> можно определить запуск анимации при наведении указателя мыши на элемент:</p>
        <div class="codeblock">
            <pre>
@keyframes backgroundColorAnimation {
    from {
        background-color: red;
    }
    to {
        background-color: blue;
    }
}
div{
    width: 100px;
    height: 100px;
    margin: 40px 30px;
    border: 1px solid #333;
    background-color: #ccc;
}
div:hover{

    animation-name: backgroundColorAnimation;
    animation-duration: 2s;
}
            </pre>
        </div>
        <div class="block2"></div>
        <h3 id="zakl2">Множество ключевых кадров</h3>
        <p>Как уже выше говорилось выше, анимация кроме двух стандартных ключевых кадров позволяет задействовать множество промежуточных. Для определения промежуточного кадра применяется процентное значение анимации, в котором этот кадр должен использоваться:</p>
        <div class="codeblock">
            <pre>
@keyframes backgroundColorAnimation {
    from {
        background-color: red;
    }
    25%{
        background-color: yellow;
    }
    50%{
        background-color: green;
    }
    75%{
        background-color: blue;
    }
    to {
        background-color: violet;
    }
}
            </pre>
        </div>
        <div class="block3"></div>
        <p>В данном случае анимация начинается с красного цвета. Через 25% времени анимации цвет меняется на желтый, еще через 25% - на зеленый и так далее.</p>
        <p>Также можно в одном ключевом кадре анимировать сразу несколько свойств:</p>
        <div class="codeblock">
            <pre>
@keyframes backgroundColorAnimation {
    from {
        background-color: red;
        opacity: 0.2;
    }
    to {
        background-color: blue;
        opacity: 0.9;
    }
}
            </pre>
        </div>
        <div class="block4"></div>
        <p>Также можно определить несколько отдельных анимаций, но применять их вместе:</p>
        <div class="codeblock">
            <pre>
@keyframes backgroundColorAnimation {
    from {
        background-color: red;
    }
    to {
        background-color: blue;
    }
}
@keyframes opacityAnimation {
    from {
        opacity: 0.2;
    }
    to {
        opacity: 0.9;
    }
}
div{
    width: 100px;
    height: 100px;
    margin: 40px 30px;
    border: 1px solid #333;
    background-color: #ccc;

    animation-name: backgroundColorAnimation, opacityAnimation;
    animation-duration: 2s, 3s;
}
            </pre>
        </div>
        <div class="block5"></div>
        <p>В качестве значения свойства animation-name через запятую перечисляются анимации, и также через запятую у свойства animation-duration задается время этих анимаций. Название анимации и ее время сопоставляются по позиции, то есть анимация opacityAnimation будет длиться 3 секунды.</p>
        <h3 id="zakl3">Завершение анимации</h3>
        <p>В общем случае после завершения временного интервала, указанного у свойства animation-duration, завершается и выполнение анимации. Однако с помощью дополнительных свойств мы можем переопределить это поведение.</p>
        <p>Так, свойство <b>animation-iteration-count</b> определяет, сколько раз будет повторяться анимация. Например, 3 повтора анимации подряд:</p>
        <div class="codeblock">
            <p>animation-iteration-count: 3;</p>
        </div>
        <div class="block6"></div>
        <p>Если необходимо, чтобы анимация запускалась бесконечное количество раз, то этому свойству присваивается значение infinite:</p>
        <div class="codeblock">
            <p>animation-iteration-count: infinite;</p>
        </div>
        <div class="block7"></div>
        <p>При повторе анимация будет начинаться снова с начального ключевого кадра. Но с помощью свойства animation-direction: alternate; противоположное направление анимации при повторе. То есть она будет начинаться с конечного ключевого кадра, а затем будет переход к начальному кадру:</p>
        <div class="codeblock">
            <pre>
animation-name: backgroundColorAnimation, opacityAnimation;
animation-duration: 2s, 2s;
animation-iteration-count: 3;
animation-direction: alternate;
            </pre>
        </div>
        <div class="block8"></div>
        <p>При окончании анимации браузер устанавливает для анимированного элемента стиль, который был бы до применения анимации. Но свойство animation-fill-mode: forwards позволяет в качестве окончательного значения анимируемого свойства установить именно то, которое было в последнем кадре:</p>
        <div class="codeblock">
            <pre>
animation-name: backgroundColorAnimation;
animation-duration: 2s;
animation-iteration-count: 3;
animation-direction: alternate;
animation-fill-mode: forwards;
            </pre>
        </div>
        <div class="block9"></div>
        <h3 id="zakl4">Задержка анимации</h3>
        <p>С помощью свойства <b>animation-delay</b> можно определить время задержки анимации:</p>
        <div class="codeblock">
            <pre>
animation-name: backgroundColorAnimation;
animation-duration: 5s;
animation-delay: 1s;    /* задержка в 1 секунду */
            </pre>
        </div>
        <div class="block10"></div>
        <h3 id="zakl5">Функция плавности анимации</h3>
        <p>Как и к переходам, к анимации можно применять все те же функции плавности:</p>
        <ul>
            <li><b>linear</b>: линейная функция плавности, изменение свойства происходит равномерно по времени</li>
            <li><b>ease</b>: функция плавности, при которой анимация ускоряется к середине и замедляется к концу, предоставляя более естественное изменение</li>
            <li><b>ease-in</b>: функция плавности, при которой происходит только ускорение в начале</li>
            <li><b>ease-out</b>: функция плавности, при которой происходит только ускорение в начале</li>
            <li><b>ease-in-out</b>: функция плавности, при которой анимация ускоряется к середине и замедляется к концу, предоставляя более естественное изменение</li>
            <li><b>cubic-bezier</b>: для анимации применяется кубическая функция Безье</li>
        </ul>
        <p>Для установки функции плавности применяется свойство <b>animation-timing-function</b>:</p>
        <div class="codeblock">
                <pre>
            @keyframes backgroundColorAnimation {
            from {
            background-color: red;
            }
            to {
            background-color: blue;
            }
            }
            div{
            width: 100px;
            height: 100px;
            margin: 40px 30px;
            border: 1px solid #333;

            animation-name: backgroundColorAnimation;
            animation-duration: 3s;
            animation-timing-function: ease-in-out;
            }
                </pre>
        </div>
        <div class="block11"></div>
        <h3 id="zakl6">Свойство animation</h3>
        <p>Свойство animation является сокращенным способом определения выше рассмотренных свойств:</p>
        <div class="codeblock">
            <p>animation: animation-name animation-duration animation-timing-function animation-iteration-count animation-direction animation-delay animation-fill-mode</p>
        </div>
        <p>Первые два параметра, которые предоставляют название и время анимации, являются обязательными. Остальные значения не обязательны.</p>
        <p>Возьмем следующий набор свойств:</p>
        <div class="codeblock">
            <pre>
animation-name: backgroundColorAnimation;
animation-duration: 5s;
animation-timing-function: ease-in-out;
animation-iteration-count: 3;
animation-direction: alternate;
animation-delay: 1s;
animation-fill-mode: forwards;
            </pre>
        </div>
        <p>Этот набор будет эквивалентен следующему определению анимации:</p>
        <div class="codeblock">
            <p>animation: backgroundColorAnimation 5s ease-in-out 3 alternate 1s forwards;</p>
        </div>
        <h3 id="zakl7">Создание баннера с анимацией</h3>
        <p>В качестве примера с анимацией создадим простейший анимированный баннер:</p>
        <div class="codeblock">
            <pre>
&lt;!DOCTYPE html>
&lt;html>
&lt;head>
    &lt;title>HTML-баннер&lt;/title>
    &lt;meta charset="utf-8" />
    &lt;style type="text/css">
    @keyframes text1
    {
        10%{opacity: 1;}
        40%{opacity: 0;}
    }
    @keyframes text2
    {
        30%{opacity: 0;}
        60%{opacity:1;}
    }
    @keyframes banner
    {
        10%{background-color: #008978;}
        40%{background-color: #34495e;}
        80%{background-color: green;}
    }
    .banner
    {
        width: 600px;
        height: 120px;
        background-color: #777;
        margin: 0 auto;
        position: relative;
    }
    .text1,.text2
    {
        position: absolute;
        width: 100%;
        height: 100%;
        line-height: 120px;
        text-align: center;
        font-size: 40px;
        color: #fff;
        opacity: 0;
    }

    .text1
    {
        animation : text1 6s infinite;
    }

    .text2
    {
        animation : text2 6s infinite;
    }

    .animated
    {
        opacity: 0.8;
        position: absolute;
        width: 100%;
        height: 100%;
        background-color: #34495e;
        animation: banner 6s infinite;
    }
    &lt;/style>
&lt;/head>
&lt;body>
    &lt;div class="banner">
        &lt;div class="animated">
            &lt;div class="text1">Только в этом месяце&lt;/div>
            &lt;div class="text2">Скидки по 20%&lt;/div>
        &lt;/div>
    &lt;/div>
&lt;/body>
&lt;/html>
            </pre>
        </div>
        <div class="banner">
            <div class="animated">
                <div class="text1">Только в этом месяце</div>
                <div class="text2">Скидки по 20%</div>
            </div>
        </div>
        <p>Здесь одновременно срабатывают три анимации. Анимация "banner" изменяет цвет фона баннера, а анимации text1 и text2 отображают и скрывают текст с помощью настроек прозрачности. Когда первый текст виден, второй не виден и наоборот. Тем самым мы получаем анимацию текста в баннере.</p>
    </div>
</div>
</body>
</html>